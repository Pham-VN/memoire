
  <!DOCTYPE html>
  <html lang="en">
  <body>
  <script src="https://unpkg.com/gojs@2.3.7/release/go.js"></script>
    
  <div id="allSampleContent" class="p-4 w-full">
    <script id="code">
    function init() {

      // Since 2.2 you can also author concise templates with method chaining instead of GraphObject.make
      // For details, see https://gojs.net/latest/intro/buildingObjects.html
      const $ = go.GraphObject.make;  // for conciseness in defining templates

      myDiagram =
        $(go.Diagram, "myDiagramDiv",
          {
            allowCopy: false,
            allowDelete: false,
            allowMove: false,
            initialAutoScale: go.Diagram.Uniform,
            layout:
              $(FlatTreeLayout,  // custom Layout, defined below
                {
                  angle: 90,
                  compaction: go.TreeLayout.CompactionNone,
                  arrangement: go.TreeLayout.ArrangementFixedRoots
                }),
            "undoManager.isEnabled": true
          });

      myDiagram.nodeTemplate =
        $(go.Node, "Vertical",
          { selectionObjectName: "BODY" },
          $(go.Panel, "Auto", { name: "BODY" },
            $(go.Shape, "RoundedRectangle",
              new go.Binding("fill"),
              new go.Binding("stroke")),
            $(go.TextBlock,
              { font: "bold 12pt Arial, sans-serif", margin: new go.Margin(4, 2, 2, 2) },
              new go.Binding("text"))
          ),
          $(go.Panel,  // this is underneath the "BODY"
            { height: 17 },  // always this height, even if the TreeExpanderButton is not visible
            $("TreeExpanderButton")
          )
        );

      myDiagram.linkTemplate =
        $(go.Link,
          $(go.Shape, { strokeWidth: 1.5 }));


    var nodeDataArray = [

    {key: 1, text: 'Pour', fill: '#f8f8f8', stroke: '#4d90fe', parent: 2},
    {key: 2, text: 'garantir', fill: '#f8f8f8', stroke: '#4d90fe', parent: 8},
    {key: 3, text: 'une', fill: '#f8f8f8', stroke: '#4d90fe', parent: 4},
    {key: 4, text: 'concurrence', fill: '#f8f8f8', stroke: '#4d90fe', parent: 2},
    {key: 5, text: 'loyale', fill: '#f8f8f8', stroke: '#4d90fe', parent: 4},
    {key: 6, text: '', fill: '#f8f8f8', stroke: '#4d90fe', parent: ''},
    {key: 7, text: 'il', fill: '#f8f8f8', stroke: '#4d90fe', parent: 8},
    {key: 8, text: 'convient', fill: '#f8f8f8', stroke: '#4d90fe', parent: 0},
    {key: 9, text: 'que', fill: '#f8f8f8', stroke: '#4d90fe', parent: 13},
    {key: 10, text: 'ces', fill: '#f8f8f8', stroke: '#4d90fe', parent: 11},
    {key: 11, text: 'mesures', fill: '#f8f8f8', stroke: '#4d90fe', parent: 13},
    {key: 12, text: 'soient', fill: '#f8f8f8', stroke: '#4d90fe', parent: 13},
    {key: 13, text: 'prises', fill: '#f8f8f8', stroke: '#4d90fe', parent: 8},
    {key: 14, text: 'Ã ', fill: '#f8f8f8', stroke: '#4d90fe', parent: 16},
    {key: 15, text: 'le', fill: '#f8f8f8', stroke: '#4d90fe', parent: 16},
    {key: 16, text: 'niveau', fill: '#f8f8f8', stroke: '#4d90fe', parent: 13},
    {key: 17, text: 'international', fill: '#f8f8f8', stroke: '#4d90fe', parent: 16},
    {key: 18, text: '.', fill: '#f8f8f8', stroke: '#4d90fe', parent: 8}
    ]
      // create the Model with data for the tree, and assign to the Diagram
      myDiagram.model =
        new go.TreeModel(
          { nodeDataArray: nodeDataArray });
    }

  // Customize the TreeLayout to position all of the leaf nodes at the same vertical Y position.
  class FlatTreeLayout extends go.TreeLayout {
    // This assumes the TreeLayout.angle is 90 -- growing downward
    commitLayout() {
      super.commitLayout();  // call base method first
      // find maximum Y position of all Nodes
      var y = -Infinity;
      this.network.vertexes.each(v => y = Math.max(y, v.node.position.y));
      // move down all leaf nodes to that Y position, but keeping their X position
      this.network.vertexes.each(v => {
        if (v.destinationEdges.count === 0) {
          // shift the node down to Y
          v.node.moveTo(v.node.position.x, y);
          // extend the last segment vertically
          v.node.toEndSegmentLength = Math.abs(v.centerY - y);
        } else {  // restore to normal value
          v.node.toEndSegmentLength = 10;
        }
      });
    }
  }
  // end FlatTreeLayout

    window.addEventListener('DOMContentLoaded', init);
  </script>

<div id="sample">
  <div id="myDiagramDiv" style="border: 1px solid black; width: 100%; height: 500px; position: relative;"><canvas tabindex="0" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; letter-spacing: normal; word-spacing: normal; width: 1054px; height: 498px;" width="1054" height="498">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 1054px; height: 498px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>
  </div>
  </body>
  </html>